{"remainingRequest":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\node\\workspace\\zhiliao_vue_gin\\src\\views\\cms\\seckill\\SeckillList.vue?vue&type=template&id=05c9c206&bindings=undefined","dependencies":[{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\src\\views\\cms\\seckill\\SeckillList.vue","mtime":1605763008941},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIDxkaXY+DQogICAgPGEtYnV0dG9uIEBjbGljaz0iVG9BZGQiPua3u+WKoDwvYS1idXR0b24+DQogICAgPGEtdGFibGUgOmNvbHVtbnM9ImNvbHVtbnMiIDpkYXRhLXNvdXJjZT0ic2Vja2lsbHMiIDpzY3JvbGw9InsgeDogMTMwMCB9IiA6cGFnaW5hdGlvbj0idXNlcl9wYWdlbmF0aW9uIiBAY2hhbmdlPSJwYWdlQ2hhbmdlIiBib3JkZXJlZD4NCiAgICAgIDx0ZW1wbGF0ZSAjYWN0aW9uPSJ7cmVjb3JkfSI+DQogICAgICAgIDwhLS0gPGEgQGNsaWNrPSJkZWxQcm9kdWN0KHJlY29yZCkiPuWIoOmZpDwvYT4gLS0+DQoNCiAgICAgICAgPGEtcG9wY29uZmlybSB2LWlmPSJzZWNraWxscy5sZW5ndGgiIHRpdGxlPSLnoa7orqTliKDpmaTlkJc/IiBAY29uZmlybT0iZGVsU2Vja2lsbChyZWNvcmQpIj4NCiAgICAgICAgICA8YS1idXR0b24+5Yig6ZmkPC9hLWJ1dHRvbj4NCiAgICAgICAgPC9hLXBvcGNvbmZpcm0+DQoNCiAgICAgICAgPHJvdXRlci1saW5rIDp0bz0ie25hbWU6J1Byb2R1Y3RFZGl0JyxwYXJhbXM6e2lkOnJlY29yZC5pZH19Ij48YS1idXR0b24+57yW6L6RPC9hLWJ1dHRvbj48L3JvdXRlci1saW5rPg0KICAgICAgPC90ZW1wbGF0ZT4NCg0KICAgIDwvYS10YWJsZT4NCiAgPC9kaXY+DQo="},{"version":3,"sources":["D:\\node\\workspace\\zhiliao_vue_gin\\src\\views\\cms\\seckill\\SeckillList.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,CAAC;IACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACnI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;;QAE7C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC/E,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;QAEd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACpG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;IAEZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC","file":"D:/node/workspace/zhiliao_vue_gin/src/views/cms/seckill/SeckillList.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div>\r\n    <a-button @click=\"ToAdd\">添加</a-button>\r\n    <a-table :columns=\"columns\" :data-source=\"seckills\" :scroll=\"{ x: 1300 }\" :pagination=\"user_pagenation\" @change=\"pageChange\" bordered>\r\n      <template #action=\"{record}\">\r\n        <!-- <a @click=\"delProduct(record)\">删除</a> -->\r\n\r\n        <a-popconfirm v-if=\"seckills.length\" title=\"确认删除吗?\" @confirm=\"delSeckill(record)\">\r\n          <a-button>删除</a-button>\r\n        </a-popconfirm>\r\n\r\n        <router-link :to=\"{name:'ProductEdit',params:{id:record.id}}\"><a-button>编辑</a-button></router-link>\r\n      </template>\r\n\r\n    </a-table>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\nimport qs from \"qs\"\r\nconst columns = [\r\n  { title: '活动Id', width: 80, dataIndex: 'id', key: 'id', fixed: 'left' },\r\n  { title: '活动名称', width: 100, dataIndex: 'name', key: 'name', fixed: 'left' },\r\n  { title: '商品名称', width: 100, dataIndex: 'pname', key: 'pname', fixed: 'left' },\r\n  { title: '活动价格', dataIndex: 'price', key: 'price' },\r\n  { title: '活动数量', dataIndex: 'num', key: 'num' },\r\n  { title: '活动开始时间', dataIndex: 'start_time', key: 'start_time' },\r\n  { title: '活动结束时间', dataIndex: 'end_time', key: 'end_time' },\r\n  { title: '创建时间', dataIndex: 'create_time', key: 'create_time' },\r\n  {\r\n    title: '操作',\r\n    key: 'operation',\r\n    fixed: 'right',\r\n    width: 100,\r\n    slots: { customRender: 'action' },\r\n  },\r\n];\r\n\r\n\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      seckills:[],\r\n      columns,\r\n\r\n      user_pagenation:{\r\n        current:1,\r\n        pageSize:5,\r\n        pageSizeOptions:['5','10','20'],\r\n        showSizeChanger:true,\r\n        total:0\r\n\r\n      }\r\n      \r\n    };\r\n  },\r\n\r\n   mounted(){\r\n        this.getSeckills(this.user_pagenation.current,this.user_pagenation.pageSize)\r\n    },\r\n\r\n    methods:{\r\n\r\n      delSeckill(record){\r\n        this.$axios.post(\"/seckill/seckill_del\",qs.stringify({\r\n          id:record.id,\r\n          headers:{\r\n            Authorization:\"Bearer \" + localStorage.getItem(\"admin_token\")\r\n         \r\n        })\r\n        }).then((rep) => {\r\n          console.log(rep);\r\n          if (rep.data.code == 200){\r\n            alert(rep.data.msg)\r\n            // this.$router.push(\"/main/product_list\")\r\n            window.location.reload()\r\n\r\n          }else {\r\n            alert(rep.data.msg)\r\n          }\r\n\r\n        }).catch((rep) => {\r\n          console.log(rep);\r\n          \r\n        })\r\n\r\n      },\r\n\r\n      ToAdd(){\r\n        this.$router.push(\"/main/seckill_add\")\r\n      },\r\n\r\n      pageChange(pagination){\r\n\r\n        this.user_pagenation.current = pagination.current\r\n        this.user_pagenation.pageSize = pagination.pageSize\r\n        this.getSeckills(pagination.current,pagination.pageSize)\r\n        \r\n\r\n      },\r\n        \r\n        getSeckills(currentPage,pageSize){\r\n          \r\n            this.$axios.get(\"/seckill/get_seckill_list\",{\r\n              params:{\r\n                currentPage:currentPage,\r\n                pageSize:pageSize\r\n              },\r\n              headers:{\r\n                Authorization:\"Bearer \" + localStorage.getItem(\"admin_token\")\r\n              }\r\n            }).then((rep) => {\r\n\r\n                if (rep.data.code != 200){\r\n                  this.$router.push(\"/admin\")\r\n                }\r\n                this.seckills = rep.data.seckills\r\n                this.user_pagenation.current = rep.data.current_page\r\n                this.user_pagenation.pageSize = rep.data.page_size\r\n                this.user_pagenation.total = rep.data.total\r\n                console.log(rep);\r\n\r\n            }).catch((rep) => {\r\n                console.log(rep);\r\n\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n};\r\n</script>\r\n"]}]}