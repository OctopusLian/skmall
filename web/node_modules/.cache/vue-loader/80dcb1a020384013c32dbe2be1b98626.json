{"remainingRequest":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\node\\workspace\\zhiliao_vue_gin\\src\\views\\front\\Register.vue?vue&type=style&index=0&id=23d027fa&scoped=true&lang=css","dependencies":[{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\src\\views\\front\\Register.vue","mtime":1605755246064},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5hcHAgewogIG1hcmdpbjogNTBweCAyMCU7CiAgcGFkZGluZzogMjBweDsKICB3aWR0aDogMTAwJTsKICBiYWNrZ3JvdW5kOiB1cmwoIi4uLy4uL2Fzc2V0cy9pbWcvbG9naW4uanBnIik7CiAgYmFja2dyb3VuZC1zaXplOiBjb250YWluOwogIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7CiAgYmFja2dyb3VuZC1hdHRhY2htZW50OiBmaXhlZDsKICBmb250LWZhbWlseTogQXZlbmlyLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmOwogIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkOwogIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGNvbG9yOiAjMmMzZTUwOwp9CgoubG9naW4taGVhZGVyIHsKICBtYXJnaW4tbGVmdDogLTM1JTsKICBtYXJnaW4tYm90dG9tOiAyMHB4OwogIGZvbnQtc2l6ZTogMjJweDsKfQo="},{"version":3,"sources":["D:\\node\\workspace\\zhiliao_vue_gin\\src\\views\\front\\Register.vue"],"names":[],"mappings":";AAqMA,CAAC,CAAC,CAAC,EAAE;EACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC7C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACjD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACnC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChB;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACjB","file":"D:/node/workspace/zhiliao_vue_gin/src/views/front/Register.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"app\">\n    <div class=\"login-header\">知了传课--用户注册</div>\n    <div class=\"login components-input-demo-presuffix\">\n      <a-form\n        :model=\"form\"\n        :label-col=\"labelCol\"\n        :wrapper-col=\"{ span: 8 }\"\n        :rules=\"rules\"\n        ref=\"valid_form\"\n      >\n        <a-form\n        :model=\"form\"\n        :label-col=\"labelCol\"\n        :wrapper-col=\"{ span: 8 }\"\n        :rules=\"rules_email\"\n        ref=\"valid_emial_form\"\n      >\n        <a-form-item label=\"邮箱地址\" name=\"mail\">\n          <a-input v-model:value=\"form.mail\" placeholder=\"请输入正确的邮箱地址\">\n            <template v-slot:prefix><mail-outlined type=\"mail\" /></template>\n\n            <template>\n              <a-tooltip title=\"Extra information\">\n                <unlock-outlined style=\"color: rgba(0, 0, 0, 0.45)\" />\n              </a-tooltip>\n            </template>\n          </a-input>\n        </a-form-item>\n\n        <a-form-item label=\"验证码\" name=\"captche\">\n          <a-input-search\n            v-model:value=\"form.captche\"\n            placeholder=\"请输入邮箱验证码\"\n            size=\"large\"\n            @search=\"sendMail('valid_emial_form')\"\n          >\n            <template v-slot:enterButton>\n              <a-button> 发送验证码 </a-button>\n            </template>\n          </a-input-search>\n        </a-form-item>\n\n        </a-form>\n\n        <a-form-item label=\"密码\" name=\"password\">\n          <a-input-password\n            v-model:value=\"form.password\"\n            type=\"password\"\n            placeholder=\"请输入密码\"\n          >\n            <template v-slot:prefix><safety-outlined type=\"safety\" /></template>\n          </a-input-password>\n        </a-form-item>\n\n        <a-form-item label=\"确认密码\" name=\"repassword\">\n          <a-input-password\n            v-model:value=\"form.repassword\"\n            type=\"password\"\n            placeholder=\"请输入密码\"\n          >\n            <template v-slot:prefix><safety-outlined type=\"safety\" /></template>\n          </a-input-password>\n        </a-form-item>\n\n        <a-form-item :wrapper-col=\"{ span: 8, offset: 3 }\">\n          <a-button type=\"primary\" @click=\"onSubmit('valid_form')\"> 提交 </a-button>\n          <a-button style=\"margin-left: 10px\">\n            <router-link to=\"/\">返回</router-link>\n          </a-button>\n        </a-form-item>\n      </a-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport qs from \"qs\";\nimport {\n  MailOutlined,\n  SafetyOutlined,\n  UnlockOutlined,\n} from \"@ant-design/icons-vue\";\n\nexport default {\n  name: \"Login\",\n  components: {\n    // UserOutlined,\n    MailOutlined,\n    UnlockOutlined,\n    // CodeOutlined,\n    SafetyOutlined,\n  },\n  data() {\n    let validateEMail = async (rule, value) => {\n      const reg = /^([a-zA-Z0-9]+[-_.]?)+@[a-zA-Z0-9]+\\.[a-z]+$/;\n      if (value == \"\" || value == undefined || value == null) {\n        // callback(new Error(\"请输入邮箱\"));\n        return Promise.reject(new Error(\"请输入邮箱\"));\n      } else {\n        if (!reg.test(value)) {\n          return Promise.reject(new Error(\"请输入正确的邮箱\"));\n        } else {\n          return Promise.resolve();\n        }\n      }\n    };\n\n    return {\n      labelCol: { span: 4 },\n      wrapperCol: { span: 14, offset: 4 },\n      form: {\n        mail: \"\",\n        password: \"\",\n        repassword: \"\",\n        captche: \"\",\n      },\n      rules: {\n        mail: [\n          { required: true, message: \"邮箱不能为空\", trigger: \"blur\" },\n          {validator:validateEMail,trigger:\"blur\"}\n          \n        ],\n        captche:[\n          {required:true,message:\"验证码不能为空\",trigger:\"blur\"}\n        ],\n        password:[\n          {required:true,message:\"密码不能为空\",trigger:\"blur\"},\n          {min:6,message:\"密码长度不能小于6\",trigger:\"blur\"},\n        ],\n        repassword:[\n          {required:true,message:\"确认密码不能为空\",trigger:\"blur\"},\n          {min:6,message:\"确认密码长度不能小于6\",trigger:\"blur\"},\n        ],\n      },\n\n      rules_email:{\n        mail: [\n          { required: true, message: \"邮箱不能为空\", trigger: \"blur\" },\n          {validator:validateEMail,trigger:\"blur\"}\n          \n        ],\n      }\n    };\n  },\n  methods: {\n    sendMail(valid_form) {\n\n      this.$refs[valid_form].validate().then(()=> {\n        this.$axios.post(\"/user/send_email\",qs.stringify({\n            email: this.form.mail,\n          })\n        )\n        .then((rep) => {\n          alert(rep.data.msg)\n        })\n        .catch((rep) => {\n          console.log(rep);\n        });\n      }).catch(()=> {\n        alert(\"邮箱格式不正确\")\n      })\n      \n    },\n\n    onSubmit(valid_form) {\n      this.$refs[valid_form].validate().then(()=>{\n  \n        this.$axios.post(\"/user/front_user_register\",qs.stringify({\n            email: this.form.mail,\n            captche:this.form.captche,\n            password:this.form.password,\n            repassword:this.form.repassword\n          })\n        )\n        .then((rep) => {\n          if (rep.data.code == 200){\n            alert(rep.data.msg)\n            this.$router.push(\"/login\")\n          }else {\n            alert(rep.data.msg)\n          }\n        })\n        .catch((rep) => {\n          console.log(rep);\n        });\n\n\n      }).catch(()=>{\n\n      })\n    },\n  },\n};\n</script>\n\n<style scoped>\n.app {\n  margin: 50px 20%;\n  padding: 20px;\n  width: 100%;\n  background: url(\"../../assets/img/login.jpg\");\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n\n.login-header {\n  margin-left: -35%;\n  margin-bottom: 20px;\n  font-size: 22px;\n}\n</style>\n"]}]}