{"remainingRequest":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\babel-loader\\lib\\index.js!D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\node\\workspace\\zhiliao_vue_gin\\src\\auth\\auth.js","dependencies":[{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\src\\auth\\auth.js","mtime":1605172063226},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOi9ub2RlL3dvcmtzcGFjZS96aGlsaWFvX3Z1ZV9naW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJEOi9ub2RlL3dvcmtzcGFjZS96aGlsaWFvX3Z1ZV9naW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKdmFyIGZyb250X3Rva2VuX2tleSA9ICJmcm9udF90b2tlbiI7CnZhciBmcm9udF91c2VyX25hbWVfa2V5ID0gImZyb250X3VzZXJfbmFtZSI7CnZhciBhZG1pbl90b2tlbl9rZXkgPSAiYWRtaW5fdG9rZW4iOwp2YXIgYWRtaW5fdXNlcl9uYW1lX2tleSA9ICJhZG1pbl91c2VyX25hbWUiOwoKdmFyIEF1dGggPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEF1dGgoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXV0aCk7CgogICAgLy8gdGhpcy5mcm9udF90b2tlbiA9IG51bGwKICAgIC8vIHRoaXMuZnJvbnRfdXNlcm5hbWUgPSBudWxsCiAgICB0aGlzLmZyb250X3Rva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZnJvbnRfdG9rZW5fa2V5KSA/IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGZyb250X3Rva2VuX2tleSkgOiAiIjsKICAgIHRoaXMuZnJvbnRfdXNlcm5hbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShmcm9udF91c2VyX25hbWVfa2V5KSA/IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGZyb250X3VzZXJfbmFtZV9rZXkpIDogIiI7CiAgICB0aGlzLmFkbWluX3Rva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oYWRtaW5fdG9rZW5fa2V5KSA/IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGFkbWluX3Rva2VuX2tleSkgOiAiIjsKICAgIHRoaXMuYWRtaW5fdXNlcl9uYW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oYWRtaW5fdXNlcl9uYW1lX2tleSkgPyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShhZG1pbl91c2VyX25hbWVfa2V5KSA6ICIiOwogIH0gLy8g57yT5a2YdG9rZW7jgIHnlKjmiLfkv6Hmga8KCgogIF9jcmVhdGVDbGFzcyhBdXRoLCBbewogICAga2V5OiAic2V0RnJvbnRBdXRoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRGcm9udEF1dGgodG9rZW4sIHVzZXJuYW1lKSB7CiAgICAgIHRoaXMuZnJvbnRfdG9rZW4gPSB0b2tlbjsKICAgICAgdGhpcy5mcm9udF91c2VybmFtZSA9IHVzZXJuYW1lOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShmcm9udF90b2tlbl9rZXksIHRva2VuKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oZnJvbnRfdXNlcl9uYW1lX2tleSwgdXNlcm5hbWUpOwogICAgfQogIH0sIHsKICAgIGtleTogInNldEFkbWluQXV0aCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0QWRtaW5BdXRoKHRva2VuLCB1c2VybmFtZSkgewogICAgICB0aGlzLmFkbWluX3Rva2VuID0gdG9rZW47CiAgICAgIHRoaXMuYWRtaW5fdXNlcl9uYW1lID0gdXNlcm5hbWU7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGFkbWluX3Rva2VuX2tleSwgdG9rZW4pOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShhZG1pbl91c2VyX25hbWVfa2V5LCB1c2VybmFtZSk7CiAgICB9IC8vIOWIoOmZpHRva2Vu44CB55So5oi35L+h5oGv77yM55So5p2l5YGa55So5oi355m75Ye6CgogIH0sIHsKICAgIGtleTogImRlbEZyb250QXV0aCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGVsRnJvbnRBdXRoKCkgewogICAgICB0aGlzLmZyb250X3Rva2VuID0gbnVsbDsKICAgICAgdGhpcy5mcm9udF91c2VybmFtZSA9IG51bGw7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGZyb250X3Rva2VuX2tleSk7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGZyb250X3VzZXJfbmFtZV9rZXkpOwogICAgfQogIH0sIHsKICAgIGtleTogImRlbEFkbWluQXV0aCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGVsQWRtaW5BdXRoKCkgewogICAgICB0aGlzLmFkbWluX3Rva2VuID0gbnVsbDsKICAgICAgdGhpcy5hZG1pbl91c2VyX25hbWUgPSBudWxsOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShhZG1pbl90b2tlbl9rZXkpOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShhZG1pbl91c2VyX25hbWVfa2V5KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBBdXRoOwp9KCk7IC8vIOWNleS+iwoKCnZhciBhdXRoID0gbmV3IEF1dGgoKTsKZXhwb3J0IGRlZmF1bHQgYXV0aDs="},{"version":3,"sources":["D:/node/workspace/zhiliao_vue_gin/src/auth/auth.js"],"names":["front_token_key","front_user_name_key","admin_token_key","admin_user_name_key","Auth","front_token","localStorage","getItem","front_username","admin_token","admin_user_name","token","username","setItem","removeItem","auth"],"mappings":";;AACA,IAAMA,eAAe,GAAG,aAAxB;AACA,IAAMC,mBAAmB,GAAG,iBAA5B;AAEA,IAAMC,eAAe,GAAG,aAAxB;AACA,IAAMC,mBAAmB,GAAG,iBAA5B;;IAGMC,I;AAEF,kBAAa;AAAA;;AACT;AACA;AACA,SAAKC,WAAL,GAAmBC,YAAY,CAACC,OAAb,CAAqBP,eAArB,IAAsCM,YAAY,CAACC,OAAb,CAAqBP,eAArB,CAAtC,GAA4E,EAA/F;AACA,SAAKQ,cAAL,GAAsBF,YAAY,CAACC,OAAb,CAAqBN,mBAArB,IAA0CK,YAAY,CAACC,OAAb,CAAqBN,mBAArB,CAA1C,GAAoF,EAA1G;AACA,SAAKQ,WAAL,GAAmBH,YAAY,CAACC,OAAb,CAAqBL,eAArB,IAAsCI,YAAY,CAACC,OAAb,CAAqBL,eAArB,CAAtC,GAA4E,EAA/F;AACA,SAAKQ,eAAL,GAAuBJ,YAAY,CAACC,OAAb,CAAqBJ,mBAArB,IAA0CG,YAAY,CAACC,OAAb,CAAqBJ,mBAArB,CAA1C,GAAoF,EAA3G;AACH,G,CAED;;;;;iCACaQ,K,EAAMC,Q,EAAS;AACxB,WAAKP,WAAL,GAAmBM,KAAnB;AACA,WAAKH,cAAL,GAAsBI,QAAtB;AACAN,MAAAA,YAAY,CAACO,OAAb,CAAqBb,eAArB,EAAqCW,KAArC;AACAL,MAAAA,YAAY,CAACO,OAAb,CAAqBZ,mBAArB,EAAyCW,QAAzC;AAEH;;;iCAEYD,K,EAAMC,Q,EAAS;AACxB,WAAKH,WAAL,GAAmBE,KAAnB;AACA,WAAKD,eAAL,GAAuBE,QAAvB;AACAN,MAAAA,YAAY,CAACO,OAAb,CAAqBX,eAArB,EAAqCS,KAArC;AACAL,MAAAA,YAAY,CAACO,OAAb,CAAqBV,mBAArB,EAAyCS,QAAzC;AAEH,K,CAED;;;;mCACc;AACV,WAAKP,WAAL,GAAmB,IAAnB;AACA,WAAKG,cAAL,GAAsB,IAAtB;AACAF,MAAAA,YAAY,CAACQ,UAAb,CAAwBd,eAAxB;AACAM,MAAAA,YAAY,CAACQ,UAAb,CAAwBb,mBAAxB;AAGH;;;mCAEa;AACV,WAAKQ,WAAL,GAAmB,IAAnB;AACA,WAAKC,eAAL,GAAuB,IAAvB;AACAJ,MAAAA,YAAY,CAACQ,UAAb,CAAwBZ,eAAxB;AACAI,MAAAA,YAAY,CAACQ,UAAb,CAAwBX,mBAAxB;AAEH;;;;KAKL;;;AACA,IAAMY,IAAI,GAAG,IAAIX,IAAJ,EAAb;AACA,eAAeW,IAAf","sourcesContent":["\r\nconst front_token_key = \"front_token\"\r\nconst front_user_name_key = \"front_user_name\"\r\n\r\nconst admin_token_key = \"admin_token\"\r\nconst admin_user_name_key = \"admin_user_name\"\r\n\r\n\r\nclass Auth {\r\n\r\n    constructor(){\r\n        // this.front_token = null\r\n        // this.front_username = null\r\n        this.front_token = localStorage.getItem(front_token_key)?localStorage.getItem(front_token_key):\"\"\r\n        this.front_username = localStorage.getItem(front_user_name_key)?localStorage.getItem(front_user_name_key):\"\"\r\n        this.admin_token = localStorage.getItem(admin_token_key)?localStorage.getItem(admin_token_key):\"\"\r\n        this.admin_user_name = localStorage.getItem(admin_user_name_key)?localStorage.getItem(admin_user_name_key):\"\"\r\n    }\r\n\r\n    // 缓存token、用户信息\r\n    setFrontAuth(token,username){\r\n        this.front_token = token\r\n        this.front_username = username\r\n        localStorage.setItem(front_token_key,token)\r\n        localStorage.setItem(front_user_name_key,username)\r\n\r\n    }\r\n\r\n    setAdminAuth(token,username){\r\n        this.admin_token = token\r\n        this.admin_user_name = username\r\n        localStorage.setItem(admin_token_key,token)\r\n        localStorage.setItem(admin_user_name_key,username)\r\n\r\n    }\r\n\r\n    // 删除token、用户信息，用来做用户登出\r\n    delFrontAuth(){\r\n        this.front_token = null\r\n        this.front_username = null\r\n        localStorage.removeItem(front_token_key)\r\n        localStorage.removeItem(front_user_name_key)\r\n\r\n\r\n    }\r\n\r\n    delAdminAuth(){\r\n        this.admin_token = null\r\n        this.admin_user_name = null\r\n        localStorage.removeItem(admin_token_key)\r\n        localStorage.removeItem(admin_user_name_key)\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n// 单例\r\nconst auth = new Auth()\r\nexport default auth"]}]}