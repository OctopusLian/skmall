{"remainingRequest":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\babel-loader\\lib\\index.js!D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\node\\workspace\\zhiliao_vue_gin\\src\\vuex\\vuex.js","dependencies":[{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\src\\vuex\\vuex.js","mtime":1605164625834},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOi9ub2RlL3dvcmtzcGFjZS96aGlsaWFvX3Z1ZV9naW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJEOi9ub2RlL3dvcmtzcGFjZS96aGlsaWFvX3Z1ZV9naW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKdmFyIGZyb250X3Rva2VuX2tleSA9ICJmcm9udF90b2tlbiI7CnZhciBmcm9udF91c2VyX2tleSA9ICJmcm9udF91c2VyX25hbWUiOwp2YXIgYWRtaW5fdG9rZW5fa2V5ID0gImFkbWluX3Rva2VuIjsKdmFyIGFkbWluX3VzZXJfbmFtZV9rZXkgPSAiYWRtaW5fdXNlcl9uYW1lIjsKCnZhciBBdXRoID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAvLyDmnoTpgKDlh73mlbDmtY/op4jlmajliLfmlrDnmoTmg4XlhrXkuIvku45sb2NhbFN0b3JhZ2XliqDovb0KICBmdW5jdGlvbiBBdXRoKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEF1dGgpOwoKICAgIHRoaXMudG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShmcm9udF90b2tlbl9rZXkpOwogICAgdGhpcy51c2VybmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGZyb250X3VzZXJfa2V5KTsKICAgIHRoaXMuYWRtaW5fdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShhZG1pbl90b2tlbl9rZXkpOwogICAgdGhpcy5hZG1pbl91c2VyX25hbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShhZG1pbl91c2VyX25hbWVfa2V5KTsKICB9IC8vIOeUqOaIt+err+WtmOWCqOS/oeaBrwoKCiAgX2NyZWF0ZUNsYXNzKEF1dGgsIFt7CiAgICBrZXk6ICJzZXRGcm9udEF1dGgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEZyb250QXV0aChzdGF0ZSwgdG9rZW4sIHVzZXJuYW1lKSB7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICAgIHN0YXRlLnVzZXJuYW1lID0gdXNlcm5hbWU7IC8vIOeUqOaIt+err+eahOeuoeeQhuerr+mcgOimgeWMuuWIhuW8gAoKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oZnJvbnRfdG9rZW5fa2V5LCB0b2tlbik7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGZyb250X3VzZXJfa2V5LCB1c2VybmFtZSk7CiAgICB9IC8vIOeuoeeQhuerr+WtmOWCqOS/oeaBrwoKICB9LCB7CiAgICBrZXk6ICJzZXRBZG1pbkF1dGgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEFkbWluQXV0aChzdGF0ZSwgYWRtaW5fdG9rZW4sIGFkbWluX3VzZXJfbmFtZSkgewogICAgICBzdGF0ZS5hZG1pbl90b2tlbiA9IGFkbWluX3Rva2VuOwogICAgICBzdGF0ZS5hZG1pbl91c2VyX25hbWUgPSBhZG1pbl91c2VyX25hbWU7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGFkbWluX3Rva2VuX2tleSwgYWRtaW5fdG9rZW4pOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShhZG1pbl91c2VyX25hbWVfa2V5LCBhZG1pbl91c2VyX25hbWUpOwogICAgfSAvLyDnlKjmiLfnq6/muIXnqbrnvJPlrZjkv6Hmga8KCiAgfSwgewogICAga2V5OiAiZGVsRnJvbnRBdXRoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxGcm9udEF1dGgoc3RhdGUpIHsKICAgICAgc3RhdGUudG9rZW4gPSBudWxsLCBzdGF0ZS51c2VybmFtZSA9IG51bGw7CiAgICB9IC8vIOeuoeeQhuerr+a4heepuue8k+WtmOS/oeaBrwoKICB9LCB7CiAgICBrZXk6ICJkZWxBZG1pbkF1dGgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRlbEFkbWluQXV0aChzdGF0ZSkgewogICAgICBzdGF0ZS5hZG1pbl90b2tlbiA9IG51bGw7CiAgICAgIHN0YXRlLmFkbWluX3VzZXJfbmFtZSA9IG51bGw7CiAgICB9IC8vIOS5n+WPr+S7peWumuS5ieWvvOiIquWuiOWNqwoKICB9LCB7CiAgICBrZXk6ICJpc19hdXRoZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzX2F1dGhlZCgpIHsKICAgICAgaWYgKHRoaXMudG9rZW4gJiYgdGhpcy51c2VybmFtZSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQogIH1dKTsKCiAgcmV0dXJuIEF1dGg7Cn0oKTsgLy8g5a+85Ye677yM5Y2V5L6LCgoKZXhwb3J0IGRlZmF1bHQgbmV3IEF1dGgoKTs="},{"version":3,"sources":["D:/node/workspace/zhiliao_vue_gin/src/vuex/vuex.js"],"names":["front_token_key","front_user_key","admin_token_key","admin_user_name_key","Auth","token","localStorage","getItem","username","admin_token","admin_user_name","state","setItem"],"mappings":";;AAAA,IAAMA,eAAe,GAAG,aAAxB;AACA,IAAMC,cAAc,GAAG,iBAAvB;AAEA,IAAMC,eAAe,GAAG,aAAxB;AACA,IAAMC,mBAAmB,GAAG,iBAA5B;;IAGMC,I;AACF;AACA,kBAAa;AAAA;;AACT,SAAKC,KAAL,GAAaC,YAAY,CAACC,OAAb,CAAqBP,eAArB,CAAb;AACA,SAAKQ,QAAL,GAAgBF,YAAY,CAACC,OAAb,CAAqBN,cAArB,CAAhB;AACA,SAAKQ,WAAL,GAAmBH,YAAY,CAACC,OAAb,CAAqBL,eAArB,CAAnB;AACA,SAAKQ,eAAL,GAAuBJ,YAAY,CAACC,OAAb,CAAqBJ,mBAArB,CAAvB;AAEH,G,CAED;;;;;iCACaQ,K,EAAMN,K,EAAMG,Q,EAAS;AAC9BG,MAAAA,KAAK,CAACN,KAAN,GAAcA,KAAd;AACAM,MAAAA,KAAK,CAACH,QAAN,GAAiBA,QAAjB,CAF8B,CAI9B;;AACAF,MAAAA,YAAY,CAACM,OAAb,CAAqBZ,eAArB,EAAqCK,KAArC;AACAC,MAAAA,YAAY,CAACM,OAAb,CAAqBX,cAArB,EAAoCO,QAApC;AAGH,K,CAED;;;;iCACaG,K,EAAMF,W,EAAYC,e,EAAgB;AAC3CC,MAAAA,KAAK,CAACF,WAAN,GAAoBA,WAApB;AACAE,MAAAA,KAAK,CAACD,eAAN,GAAwBA,eAAxB;AAEAJ,MAAAA,YAAY,CAACM,OAAb,CAAqBV,eAArB,EAAqCO,WAArC;AACAH,MAAAA,YAAY,CAACM,OAAb,CAAqBT,mBAArB,EAAyCO,eAAzC;AAEH,K,CAED;;;;iCACaC,K,EAAM;AACfA,MAAAA,KAAK,CAACN,KAAN,GAAc,IAAd,EACAM,KAAK,CAACH,QAAN,GAAiB,IADjB;AAGH,K,CAED;;;;iCACaG,K,EAAM;AACfA,MAAAA,KAAK,CAACF,WAAN,GAAoB,IAApB;AACAE,MAAAA,KAAK,CAACD,eAAN,GAAwB,IAAxB;AAEH,K,CACD;;;;gCACW;AACP,UAAG,KAAKL,KAAL,IAAc,KAAKG,QAAtB,EAA+B;AAC3B,eAAO,IAAP;AACH,OAFD,MAEK;AACD,eAAO,KAAP;AACH;AACJ;;;;KAGL;;;AACA,eAAe,IAAIJ,IAAJ,EAAf","sourcesContent":["const front_token_key = \"front_token\"\r\nconst front_user_key = \"front_user_name\"\r\n\r\nconst admin_token_key = \"admin_token\"\r\nconst admin_user_name_key = \"admin_user_name\"\r\n\r\n\r\nclass Auth {\r\n    // 构造函数浏览器刷新的情况下从localStorage加载\r\n    constructor(){\r\n        this.token = localStorage.getItem(front_token_key)\r\n        this.username = localStorage.getItem(front_user_key)\r\n        this.admin_token = localStorage.getItem(admin_token_key)\r\n        this.admin_user_name = localStorage.getItem(admin_user_name_key)\r\n\r\n    }\r\n\r\n    // 用户端存储信息\r\n    setFrontAuth(state,token,username){\r\n        state.token = token\r\n        state.username = username\r\n        \r\n        // 用户端的管理端需要区分开\r\n        localStorage.setItem(front_token_key,token)\r\n        localStorage.setItem(front_user_key,username)\r\n        \r\n\r\n    }\r\n\r\n    // 管理端存储信息\r\n    setAdminAuth(state,admin_token,admin_user_name){\r\n        state.admin_token = admin_token\r\n        state.admin_user_name = admin_user_name\r\n\r\n        localStorage.setItem(admin_token_key,admin_token)\r\n        localStorage.setItem(admin_user_name_key,admin_user_name)\r\n\r\n    }\r\n\r\n    // 用户端清空缓存信息\r\n    delFrontAuth(state){\r\n        state.token = null,\r\n        state.username = null\r\n\r\n    }\r\n\r\n    // 管理端清空缓存信息\r\n    delAdminAuth(state){\r\n        state.admin_token = null\r\n        state.admin_user_name = null\r\n\r\n    }\r\n    // 也可以定义导航守卫\r\n    is_authed(){\r\n        if(this.token && this.username){\r\n            return true\r\n        }else{\r\n            return false\r\n        }\r\n    }\r\n}\r\n\r\n// 导出，单例\r\nexport default new Auth()\r\n"]}]}