{"remainingRequest":"/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/node_modules/babel-loader/lib/index.js!/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/src/views/front/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/src/views/front/Login.vue","mtime":1605755200000},{"path":"/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL25lby9Db2RlL2dvL3NyYy9naXRodWIuY29tL09jdG9wdXNMaWFuL3NrbWFsbC93ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgcXMgZnJvbSAicXMiOwppbXBvcnQgeyBNYWlsT3V0bGluZWQsIFNhZmV0eU91dGxpbmVkLCBVbmxvY2tPdXRsaW5lZCB9IGZyb20gJ0BhbnQtZGVzaWduL2ljb25zLXZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG9naW4nLAogIGNvbXBvbmVudHM6IHsKICAgIC8vIFVzZXJPdXRsaW5lZCwKICAgIE1haWxPdXRsaW5lZDogTWFpbE91dGxpbmVkLAogICAgVW5sb2NrT3V0bGluZWQ6IFVubG9ja091dGxpbmVkLAogICAgLy8gQ29kZU91dGxpbmVkLAogICAgU2FmZXR5T3V0bGluZWQ6IFNhZmV0eU91dGxpbmVkCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIHZhbGlkYXRlRU1haWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShydWxlLCB2YWx1ZSkgewogICAgICAgIHZhciByZWc7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmVnID0gL14oW2EtekEtWjAtOV0rWy1fLl0/KStAW2EtekEtWjAtOV0rXC5bYS16XSskLzsKCiAgICAgICAgICAgICAgICBpZiAoISh2YWx1ZSA9PSAiIiB8fCB2YWx1ZSA9PSB1bmRlZmluZWQgfHwgdmFsdWUgPT0gbnVsbCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcigi6K+36L6T5YWl6YKu566xIikpKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgaWYgKHJlZy50ZXN0KHZhbHVlKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCLor7fovpPlhaXmraPnoa7nmoTpgq7nrrEiKSkpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlc29sdmUoKSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIHZhbGlkYXRlRU1haWwoX3gsIF94MikgewogICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgcmV0dXJuIHsKICAgICAgbGFiZWxDb2w6IHsKICAgICAgICBzcGFuOiA0CiAgICAgIH0sCiAgICAgIHdyYXBwZXJDb2w6IHsKICAgICAgICBzcGFuOiAxNCwKICAgICAgICBvZmZzZXQ6IDQKICAgICAgfSwKICAgICAgZm9ybTogewogICAgICAgIG1haWw6ICcnLAogICAgICAgIHBhc3N3b3JkOiAnJwogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIG1haWw6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLpgq7nrrHlnLDlnYDkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfSwgewogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZUVNYWlsLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLlr4bnoIHkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfSwgewogICAgICAgICAgbWluOiA2LAogICAgICAgICAgbWVzc2FnZTogIuWvhueggemVv+W6puS4jeiDveWwj+S6jjYiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdChsb2dpbkZvcm0pIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbbG9naW5Gb3JtXS52YWxpZGF0ZSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiRheGlvcy5wb3N0KCcvdXNlci9mcm9udF91c2VyX2xvZ2luJywgcXMuc3RyaW5naWZ5KHsKICAgICAgICAgIG1haWw6IF90aGlzLmZvcm0ubWFpbCwKICAgICAgICAgIHBhc3N3b3JkOiBfdGhpcy5mb3JtLnBhc3N3b3JkCiAgICAgICAgfSkpLnRoZW4oZnVuY3Rpb24gKHJlcCkgewogICAgICAgICAgaWYgKHJlcC5kYXRhLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcCk7CgogICAgICAgICAgICBfdGhpcy4kYXV0aC5zZXRGcm9udEF1dGgocmVwLmRhdGEudG9rZW4sIHJlcC5kYXRhLnVzZXJuYW1lKTsKCiAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQocmVwLmRhdGEubXNnKTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVwKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXApOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgYWxlcnQoIuagoemqjOWHuumUme+8jOivt+WujOWWhOmcgOimgeaPkOS6pOeahOS/oeaBryIpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/src/views/front/Login.vue"],"names":[],"mappings":";;;AA2CA,OAAO,EAAP,MAAe,IAAf;AACA,SAAS,YAAT,EAAsB,cAAtB,EAAsC,cAAtC,QAA4D,uBAA5D;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,UAAU,EAAE;AACV;AACA,IAAA,YAAY,EAAZ,YAFU;AAGV,IAAA,cAAc,EAAd,cAHU;AAIV;AACA,IAAA,cAAa,EAAb;AALU,GAFC;AASb,EAAA,IATa,kBASN;AACL,QAAI,aAAY;AAAA,yEAAI,iBAAO,IAAP,EAAa,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AACZ,gBAAA,GADY,GACN,8CADM;;AAAA,sBAEd,KAAI,IAAK,EAAT,IAAe,KAAI,IAAK,SAAxB,IAAqC,KAAI,IAAK,IAFhC;AAAA;AAAA;AAAA;;AAAA,iDAIT,OAAO,CAAC,MAAR,CAAe,IAAI,KAAJ,CAAU,OAAV,CAAf,CAJS;;AAAA;AAAA,oBAMX,GAAG,CAAC,IAAJ,CAAS,KAAT,CANW;AAAA;AAAA;AAAA;;AAAA,iDAOP,OAAO,CAAC,MAAR,CAAe,IAAI,KAAJ,CAAU,UAAV,CAAf,CAPO;;AAAA;AAAA,iDASP,OAAO,CAAC,OAAR,EATO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAZ,aAAY;AAAA;AAAA;AAAA,OAAhB;;AAcA,WAAO;AAEL,MAAA,QAAQ,EAAE;AAAE,QAAA,IAAI,EAAE;AAAR,OAFL;AAGL,MAAA,UAAU,EAAG;AAAE,QAAA,IAAI,EAAE,EAAR;AAAY,QAAA,MAAM,EAAE;AAApB,OAHR;AAIL,MAAA,IAAI,EAAE;AACJ,QAAA,IAAI,EAAE,EADF;AAEJ,QAAA,QAAQ,EAAE;AAFN,OAJD;AAQL,MAAA,KAAK,EAAC;AACJ,QAAA,IAAI,EAAC,CACH;AAAC,UAAA,QAAQ,EAAC,IAAV;AAAe,UAAA,OAAO,EAAC,UAAvB;AAAkC,UAAA,OAAO,EAAC;AAA1C,SADG,EAEH;AAAC,UAAA,SAAS,EAAC,aAAX;AAAyB,UAAA,OAAO,EAAC;AAAjC,SAFG,CADD;AAKJ,QAAA,QAAQ,EAAC,CACP;AAAC,UAAA,QAAQ,EAAC,IAAV;AAAe,UAAA,OAAO,EAAC,QAAvB;AAAgC,UAAA,OAAO,EAAC;AAAxC,SADO,EAEP;AAAC,UAAA,GAAG,EAAC,CAAL;AAAO,UAAA,OAAO,EAAC,WAAf;AAA2B,UAAA,OAAO,EAAC;AAAnC,SAFO;AALL;AARD,KAAP;AAqBD,GA7CY;AA8Cb,EAAA,OAAO,EAAE;AACP,IAAA,QADO,oBACE,SADF,EACa;AAAA;;AAClB,WAAK,KAAL,CAAW,SAAX,EAAsB,QAAtB,GAAiC,IAAjC,CAAsC,YAAK;AACzC,QAAA,KAAI,CAAC,MAAL,CAAY,IAAZ,CAAiB,wBAAjB,EAA2C,EAAE,CAAC,SAAH,CAAa;AACpD,UAAA,IAAI,EAAE,KAAI,CAAC,IAAL,CAAU,IADoC;AAEpD,UAAA,QAAQ,EAAE,KAAI,CAAC,IAAL,CAAU;AAFgC,SAAb,CAA3C,EAGI,IAHJ,CAGS,UAAC,GAAD,EAAS;AACZ,cAAI,GAAG,CAAC,IAAJ,CAAS,IAAT,IAAiB,GAArB,EAA0B;AACtB,YAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;;AACA,YAAA,KAAI,CAAC,KAAL,CAAW,YAAX,CAAwB,GAAG,CAAC,IAAJ,CAAS,KAAjC,EAAuC,GAAG,CAAC,IAAJ,CAAS,QAAhD;;AACA,YAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACH,WAJD,MAIM;AACJ,YAAA,KAAK,CAAC,GAAG,CAAC,IAAJ,CAAS,GAAV,CAAL;AACF;AACD,SAXL,EAWO,KAXP,CAWa,UAAC,GAAD,EAAS;AACd,UAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;AACP,SAbD;AAeD,OAhBD,EAgBG,KAhBH,CAgBS,YAAK;AAEZ,QAAA,KAAK,CAAC,iBAAD,CAAL;AAED,OApBD;AAsBD;AAxBM;AA9CI,CAAf","sourcesContent":["<template>\n    <div class=\"app\">\n      <div class=\"login-header\">\n          知了传课--用户登录\n      </div>\n      <div class=\"login components-input-demo-presuffix\">\n        <a-form :model=\"form\" :label-col=\"labelCol\" :wrapper-col=\"{ span: 8}\" ref=\"loginForm\" :rules=\"rules\">\n          <a-form-item label=\"邮箱地址\" name=\"mail\">\n            <a-input v-model:value=\"form.mail\" placeholder=\"请输入邮箱地址\">\n              <template v-slot:prefix><mail-outlined type=\"mail\"/></template>\n\n              <template v-slot:suffix>\n                <a-tooltip title=\"Extra information\">\n                  <unlock-outlined style=\"color: rgba(0,0,0,.45)\" />\n                </a-tooltip>\n              </template>\n            </a-input>\n          </a-form-item>\n\n          <a-form-item label=\"密码\" name=\"password\">\n              <a-input-password v-model:value=\"form.password\" type=\"password\" placeholder=\"请输入密码\">\n                <template v-slot:prefix><safety-outlined type=\"safety\"/></template>\n              </a-input-password>\n              \n          </a-form-item>\n\n\n          <a-form-item :wrapper-col=\" { span: 8, offset: 3 }\">\n            <a-button type=\"primary\" @click=\"onSubmit('loginForm')\">\n              登录\n            </a-button>\n            <a-button style=\"margin-left: 10px;\">\n              <router-link to=\"/\">返回</router-link>\n            </a-button>\n          </a-form-item>\n          \n        </a-form>\n      </div>\n    </div>\n</template>\n\n<script>\n\nimport qs from \"qs\"\nimport { MailOutlined,SafetyOutlined ,UnlockOutlined } from '@ant-design/icons-vue';\n\nexport default {\n  name: 'Login',\n  components: {\n    // UserOutlined,\n    MailOutlined,\n    UnlockOutlined,\n    // CodeOutlined,\n    SafetyOutlined\n  },\n  data() {\n    let validateEMail = async (rule, value) => {\n      const reg = /^([a-zA-Z0-9]+[-_.]?)+@[a-zA-Z0-9]+\\.[a-z]+$/;\n      if (value == \"\" || value == undefined || value == null) {\n        // callback(new Error(\"请输入邮箱\"));\n        return Promise.reject(new Error(\"请输入邮箱\"));\n      } else {\n        if (!reg.test(value)) {\n          return Promise.reject(new Error(\"请输入正确的邮箱\"));\n        } else {\n          return Promise.resolve();\n        }\n      }\n    };\n\n    return {\n      \n      labelCol: { span: 4 },\n      wrapperCol:  { span: 14, offset: 4 },\n      form: {\n        mail: '',\n        password: '',\n      },\n      rules:{\n        mail:[\n          {required:true,message:\"邮箱地址不能为空\",trigger:\"blur\"},\n          {validator:validateEMail,trigger:\"blur\"}\n        ],\n        password:[\n          {required:true,message:\"密码不能为空\",trigger:\"blur\"},\n          {min:6,message:\"密码长度不能小于6\",trigger:\"blur\"}\n\n        ]\n\n      }\n    };\n  },\n  methods: {\n    onSubmit(loginForm) {\n      this.$refs[loginForm].validate().then(()=> {\n        this.$axios.post('/user/front_user_login', qs.stringify({\n            mail: this.form.mail,\n            password: this.form.password,\n        })).then((rep) => {\n              if (rep.data.code == 200) {\n                  console.log(rep);\n                  this.$auth.setFrontAuth(rep.data.token,rep.data.username)\n                  this.$router.push(\"/\")\n              }else {\n                alert(rep.data.msg)\n              }\n            }).catch((rep) => {\n                console.log(rep);\n        });\n\n      }).catch(()=> {\n\n        alert(\"校验出错，请完善需要提交的信息\")\n\n      })\n      \n    },\n  },\n}\n</script>\n\n<style scoped>\n  .app {\n    margin: 50px 20%;\n    padding: 20px;\n    width: 100%;\n    background: url(\"../../assets/img/login.jpg\");\n    background-size: contain;\n    background-repeat:no-repeat;\n    /* background-size:100% 100%; */\n    background-attachment: fixed;\n    font-family: Avenir, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n\n\n  }\n\n  .login-header {\n    margin-left: -35%;\n    margin-bottom: 20px;\n    font-size: 22px;\n  }\n\n\n  \n</style>\n"],"sourceRoot":""}]}