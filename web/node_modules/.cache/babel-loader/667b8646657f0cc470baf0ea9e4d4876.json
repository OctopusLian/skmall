{"remainingRequest":"/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/node_modules/babel-loader/lib/index.js!/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/src/views/cms/seckill/SeckillList.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/src/views/cms/seckill/SeckillList.vue","mtime":1605763716000},{"path":"/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHFzIGZyb20gInFzIjsKdmFyIGNvbHVtbnMgPSBbewogIHRpdGxlOiAn5rS75YqoSWQnLAogIHdpZHRoOiA4MCwKICBkYXRhSW5kZXg6ICdpZCcsCiAga2V5OiAnaWQnLAogIGZpeGVkOiAnbGVmdCcKfSwgewogIHRpdGxlOiAn5rS75Yqo5ZCN56ewJywKICB3aWR0aDogMTAwLAogIGRhdGFJbmRleDogJ25hbWUnLAogIGtleTogJ25hbWUnLAogIGZpeGVkOiAnbGVmdCcKfSwgewogIHRpdGxlOiAn5ZWG5ZOB5ZCN56ewJywKICB3aWR0aDogMTAwLAogIGRhdGFJbmRleDogJ3BuYW1lJywKICBrZXk6ICdwbmFtZScsCiAgZml4ZWQ6ICdsZWZ0Jwp9LCB7CiAgdGl0bGU6ICfmtLvliqjku7fmoLwnLAogIGRhdGFJbmRleDogJ3ByaWNlJywKICBrZXk6ICdwcmljZScKfSwgewogIHRpdGxlOiAn5rS75Yqo5pWw6YePJywKICBkYXRhSW5kZXg6ICdudW0nLAogIGtleTogJ251bScKfSwgewogIHRpdGxlOiAn5rS75Yqo5byA5aeL5pe26Ze0JywKICBkYXRhSW5kZXg6ICdzdGFydF90aW1lJywKICBrZXk6ICdzdGFydF90aW1lJwp9LCB7CiAgdGl0bGU6ICfmtLvliqjnu5PmnZ/ml7bpl7QnLAogIGRhdGFJbmRleDogJ2VuZF90aW1lJywKICBrZXk6ICdlbmRfdGltZScKfSwgewogIHRpdGxlOiAn5Yib5bu65pe26Ze0JywKICBkYXRhSW5kZXg6ICdjcmVhdGVfdGltZScsCiAga2V5OiAnY3JlYXRlX3RpbWUnCn0sIHsKICB0aXRsZTogJ+aTjeS9nCcsCiAga2V5OiAnb3BlcmF0aW9uJywKICBmaXhlZDogJ3JpZ2h0JywKICB3aWR0aDogMTAwLAogIHNsb3RzOiB7CiAgICBjdXN0b21SZW5kZXI6ICdhY3Rpb24nCiAgfQp9XTsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWNraWxsczogW10sCiAgICAgIGNvbHVtbnM6IGNvbHVtbnMsCiAgICAgIHVzZXJfcGFnZW5hdGlvbjogewogICAgICAgIGN1cnJlbnQ6IDEsCiAgICAgICAgcGFnZVNpemU6IDUsCiAgICAgICAgcGFnZVNpemVPcHRpb25zOiBbJzUnLCAnMTAnLCAnMjAnXSwKICAgICAgICBzaG93U2l6ZUNoYW5nZXI6IHRydWUsCiAgICAgICAgdG90YWw6IDAKICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFNlY2tpbGxzKHRoaXMudXNlcl9wYWdlbmF0aW9uLmN1cnJlbnQsIHRoaXMudXNlcl9wYWdlbmF0aW9uLnBhZ2VTaXplKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRlbFNlY2tpbGw6IGZ1bmN0aW9uIGRlbFNlY2tpbGwocmVjb3JkKSB7CiAgICAgIHRoaXMuJGF4aW9zLnBvc3QoIi9zZWNraWxsL3NlY2tpbGxfZGVsIiwgcXMuc3RyaW5naWZ5KHsKICAgICAgICBpZDogcmVjb3JkLmlkCiAgICAgIH0pLCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oImFkbWluX3Rva2VuIikKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcCkgewogICAgICAgIGNvbnNvbGUubG9nKHJlcCk7CgogICAgICAgIGlmIChyZXAuZGF0YS5jb2RlID09IDIwMCkgewogICAgICAgICAgYWxlcnQocmVwLmRhdGEubXNnKTsgLy8gdGhpcy4kcm91dGVyLnB1c2goIi9tYWluL3Byb2R1Y3RfbGlzdCIpCgogICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXAuZGF0YS5tc2cpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcCkgewogICAgICAgIGNvbnNvbGUubG9nKHJlcCk7CiAgICAgIH0pOwogICAgfSwKICAgIFRvQWRkOiBmdW5jdGlvbiBUb0FkZCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9tYWluL3NlY2tpbGxfYWRkIik7CiAgICB9LAogICAgcGFnZUNoYW5nZTogZnVuY3Rpb24gcGFnZUNoYW5nZShwYWdpbmF0aW9uKSB7CiAgICAgIHRoaXMudXNlcl9wYWdlbmF0aW9uLmN1cnJlbnQgPSBwYWdpbmF0aW9uLmN1cnJlbnQ7CiAgICAgIHRoaXMudXNlcl9wYWdlbmF0aW9uLnBhZ2VTaXplID0gcGFnaW5hdGlvbi5wYWdlU2l6ZTsKICAgICAgdGhpcy5nZXRTZWNraWxscyhwYWdpbmF0aW9uLmN1cnJlbnQsIHBhZ2luYXRpb24ucGFnZVNpemUpOwogICAgfSwKICAgIGdldFNlY2tpbGxzOiBmdW5jdGlvbiBnZXRTZWNraWxscyhjdXJyZW50UGFnZSwgcGFnZVNpemUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJGF4aW9zLmdldCgiL3NlY2tpbGwvZ2V0X3NlY2tpbGxfbGlzdCIsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGN1cnJlbnRQYWdlOiBjdXJyZW50UGFnZSwKICAgICAgICAgIHBhZ2VTaXplOiBwYWdlU2l6ZQogICAgICAgIH0sCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oImFkbWluX3Rva2VuIikKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcCkgewogICAgICAgIGlmIChyZXAuZGF0YS5jb2RlICE9IDIwMCkgewogICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvYWRtaW4iKTsKICAgICAgICB9CgogICAgICAgIF90aGlzLnNlY2tpbGxzID0gcmVwLmRhdGEuc2Vja2lsbHM7CiAgICAgICAgX3RoaXMudXNlcl9wYWdlbmF0aW9uLmN1cnJlbnQgPSByZXAuZGF0YS5jdXJyZW50X3BhZ2U7CiAgICAgICAgX3RoaXMudXNlcl9wYWdlbmF0aW9uLnBhZ2VTaXplID0gcmVwLmRhdGEucGFnZV9zaXplOwogICAgICAgIF90aGlzLnVzZXJfcGFnZW5hdGlvbi50b3RhbCA9IHJlcC5kYXRhLnRvdGFsOwogICAgICAgIGNvbnNvbGUubG9nKHJlcCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXApIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXApOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/src/views/cms/seckill/SeckillList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <a-button @click=\"ToAdd\">添加</a-button>\r\n    <a-table :columns=\"columns\" :data-source=\"seckills\" :scroll=\"{ x: 1300 }\" :pagination=\"user_pagenation\" @change=\"pageChange\" bordered>\r\n      <template #action=\"{record}\">\r\n        <!-- <a @click=\"delProduct(record)\">删除</a> -->\r\n\r\n        <a-popconfirm v-if=\"seckills.length\" title=\"确认删除吗?\" @confirm=\"delSeckill(record)\">\r\n          <a-button>删除</a-button>\r\n        </a-popconfirm>\r\n\r\n        <router-link :to=\"{name:'SeckillrEdit',params:{id:record.id}}\"><a-button>编辑</a-button></router-link>\r\n      </template>\r\n\r\n    </a-table>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\nimport qs from \"qs\"\r\nconst columns = [\r\n  { title: '活动Id', width: 80, dataIndex: 'id', key: 'id', fixed: 'left' },\r\n  { title: '活动名称', width: 100, dataIndex: 'name', key: 'name', fixed: 'left' },\r\n  { title: '商品名称', width: 100, dataIndex: 'pname', key: 'pname', fixed: 'left' },\r\n  { title: '活动价格', dataIndex: 'price', key: 'price' },\r\n  { title: '活动数量', dataIndex: 'num', key: 'num' },\r\n  { title: '活动开始时间', dataIndex: 'start_time', key: 'start_time' },\r\n  { title: '活动结束时间', dataIndex: 'end_time', key: 'end_time' },\r\n  { title: '创建时间', dataIndex: 'create_time', key: 'create_time' },\r\n  {\r\n    title: '操作',\r\n    key: 'operation',\r\n    fixed: 'right',\r\n    width: 100,\r\n    slots: { customRender: 'action' },\r\n  },\r\n];\r\n\r\n\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      seckills:[],\r\n      columns,\r\n\r\n      user_pagenation:{\r\n        current:1,\r\n        pageSize:5,\r\n        pageSizeOptions:['5','10','20'],\r\n        showSizeChanger:true,\r\n        total:0\r\n\r\n      }\r\n      \r\n    };\r\n  },\r\n\r\n   mounted(){\r\n        this.getSeckills(this.user_pagenation.current,this.user_pagenation.pageSize)\r\n    },\r\n\r\n    methods:{\r\n\r\n      delSeckill(record){\r\n        this.$axios.post(\"/seckill/seckill_del\",qs.stringify({\r\n          id:record.id,\r\n          \r\n        }),{\r\n          headers:{\r\n            Authorization:\"Bearer \" + localStorage.getItem(\"admin_token\")\r\n          }\r\n        }).then((rep) => {\r\n          console.log(rep);\r\n          if (rep.data.code == 200){\r\n            alert(rep.data.msg)\r\n            // this.$router.push(\"/main/product_list\")\r\n            window.location.reload()\r\n\r\n          }else {\r\n            alert(rep.data.msg)\r\n          }\r\n\r\n        }).catch((rep) => {\r\n          console.log(rep);\r\n          \r\n        })\r\n\r\n      },\r\n\r\n      ToAdd(){\r\n        this.$router.push(\"/main/seckill_add\")\r\n      },\r\n\r\n      pageChange(pagination){\r\n\r\n        this.user_pagenation.current = pagination.current\r\n        this.user_pagenation.pageSize = pagination.pageSize\r\n        this.getSeckills(pagination.current,pagination.pageSize)\r\n        \r\n\r\n      },\r\n        \r\n        getSeckills(currentPage,pageSize){\r\n          \r\n            this.$axios.get(\"/seckill/get_seckill_list\",{\r\n              params:{\r\n                currentPage:currentPage,\r\n                pageSize:pageSize\r\n              },\r\n              headers:{\r\n                Authorization:\"Bearer \" + localStorage.getItem(\"admin_token\")\r\n              }\r\n            }).then((rep) => {\r\n\r\n                if (rep.data.code != 200){\r\n                  this.$router.push(\"/admin\")\r\n                }\r\n                this.seckills = rep.data.seckills\r\n                this.user_pagenation.current = rep.data.current_page\r\n                this.user_pagenation.pageSize = rep.data.page_size\r\n                this.user_pagenation.total = rep.data.total\r\n                console.log(rep);\r\n\r\n            }).catch((rep) => {\r\n                console.log(rep);\r\n\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n};\r\n</script>\r\n"],"sourceRoot":""}]}