{"remainingRequest":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\babel-loader\\lib\\index.js!D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\node\\workspace\\zhiliao_vue_gin\\src\\views\\front\\GoodsList.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\src\\views\\front\\GoodsList.vue","mtime":1605862088048},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdHb29kc0xpc3QnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjdXJyZW50X3BhZ2U6IDEsCiAgICAgIHBhZ2Vfc2l6ZTogOCwKICAgICAgc2Vja2lsbHM6IFtdLAogICAgICB0b3RhbF9wYWdlOiB1bmRlZmluZWQKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRTZWNraWxsTGlzdCh0aGlzLmN1cnJlbnRfcGFnZSwgdGhpcy5wYWdlX3NpemUpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0U2Vja2lsbExpc3Q6IGZ1bmN0aW9uIGdldFNlY2tpbGxMaXN0KGN1cnJlbnRfcGFnZSwgcGFnZV9zaXplKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRheGlvcy5nZXQoIi9zZWNraWxsL2Zyb250L2dldF9zZWNraWxsX2xpc3QiLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBjdXJyZW50UGFnZTogY3VycmVudF9wYWdlLAogICAgICAgICAgcGFnZVNpemU6IHBhZ2Vfc2l6ZQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVwKSB7CiAgICAgICAgX3RoaXMuc2Vja2lsbHMgPSBfdGhpcy5zZWNraWxscy5jb25jYXQocmVwLmRhdGEuc2Vja2lsbF9saXN0KTsKICAgICAgICBfdGhpcy5jdXJyZW50X3BhZ2UgPSByZXAuZGF0YS5jdXJyZW50OwogICAgICAgIF90aGlzLnBhZ2Vfc2l6ZSA9IHJlcC5kYXRhLnBhZ2Vfc2l6ZTsKICAgICAgICBfdGhpcy50b3RhbF9wYWdlID0gcmVwLmRhdGEudG90YWxfcGFnZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcCkgewogICAgICAgIGNvbnNvbGUubG9nKHJlcCk7CiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRfZGF0YTogZnVuY3Rpb24gbG9hZF9kYXRhKCkgewogICAgICBpZiAodGhpcy50b3RhbF9wYWdlID49IHRoaXMuY3VycmVudF9wYWdlICsgMSkgewogICAgICAgIHRoaXMuZ2V0U2Vja2lsbExpc3QodGhpcy5jdXJyZW50X3BhZ2UgKyAxLCB0aGlzLnBhZ2Vfc2l6ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWxlcnQoIuaXoOabtOWkmuaVsOaNriIpOwogICAgICB9CiAgICB9LAogICAgTG9nb3V0OiBmdW5jdGlvbiBMb2dvdXQoKSB7CiAgICAgIHRoaXMuJGF1dGguZGVsRnJvbnRBdXRoKCk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbG9naW4iKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["D:\\node\\workspace\\zhiliao_vue_gin\\src\\views\\front\\GoodsList.vue"],"names":[],"mappings":";AA6DA,eAAe;AACb,EAAA,IAAI,EAAE,WADO;AAGb,EAAA,IAHa,kBAGP;AACJ,WAAO;AACL,MAAA,YAAY,EAAC,CADR;AAEL,MAAA,SAAS,EAAC,CAFL;AAGL,MAAA,QAAQ,EAAC,EAHJ;AAIL,MAAA,UAAU,EAAC;AAJN,KAAP;AAMD,GAVY;AAYb,EAAA,OAZa,qBAYJ;AAEP,SAAK,cAAL,CAAoB,KAAK,YAAzB,EAAsC,KAAK,SAA3C;AACD,GAfY;AAkBb,EAAA,OAAO,EAAC;AACN,IAAA,cADM,0BACS,YADT,EACsB,SADtB,EACgC;AAAA;;AACpC,WAAK,MAAL,CAAY,GAAZ,CAAgB,iCAAhB,EAAkD;AAChD,QAAA,MAAM,EAAC;AACL,UAAA,WAAW,EAAC,YADP;AAEL,UAAA,QAAQ,EAAC;AAFJ;AADyC,OAAlD,EAKG,IALH,CAKQ,UAAC,GAAD,EAAQ;AAEd,QAAA,KAAI,CAAC,QAAL,GAAgB,KAAI,CAAC,QAAL,CAAc,MAAd,CAAqB,GAAG,CAAC,IAAJ,CAAS,YAA9B,CAAhB;AACA,QAAA,KAAI,CAAC,YAAL,GAAoB,GAAG,CAAC,IAAJ,CAAS,OAA7B;AACA,QAAA,KAAI,CAAC,SAAL,GAAiB,GAAG,CAAC,IAAJ,CAAS,SAA1B;AACA,QAAA,KAAI,CAAC,UAAL,GAAkB,GAAG,CAAC,IAAJ,CAAS,UAA3B;AAGD,OAbD,EAaG,KAbH,CAaS,UAAC,GAAD,EAAS;AAChB,QAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;AACD,OAfD;AAkBD,KApBK;AAsBN,IAAA,SAtBM,uBAsBK;AAET,UAAI,KAAK,UAAL,IAAoB,KAAK,YAAL,GAAkB,CAA1C,EAA6C;AAC3C,aAAK,cAAL,CAAoB,KAAK,YAAL,GAAkB,CAAtC,EAAwC,KAAK,SAA7C;AACD,OAFD,MAEK;AACH,QAAA,KAAK,CAAC,OAAD,CAAL;AAEF;AAID,KAjCK;AAoCN,IAAA,MApCM,oBAoCE;AACN,WAAK,KAAL,CAAW,YAAX;AACA,WAAK,OAAL,CAAa,IAAb,CAAkB,QAAlB;AACF;AAvCM;AAlBK,CAAf","sourcesContent":["<template>\n  <div class=\"page-container\">\n    <div class=\"page-title\">\n      <span class=\"left\">知了传课商品秒杀系统</span>\n\n      <span class=\"right\" v-if=\"$auth.front_username == ''\">\n        <router-link to=\"/login\">\n          登录\n        </router-link >/\n        <router-link to=\"/register\">\n          注册\n        </router-link >\n      </span>\n\n      <span class=\"right\" v-else>\n        <router-link to=\"/login\">\n          欢迎：{{$auth.front_username}}\n        </router-link >/\n        <!-- <span><input type=\"button\" @click=\"Logout\" value=\"退出\"/></span> -->\n        <span style=\"font-size:18px\"><a @click=\"Logout\">登出</a></span>\n      </span>\n\n\n    </div>\n\n    \n    <ul class=\"goods-list\" >\n      <li class=\"goods-box\" v-for=\"seckill in seckills\" :key=\"seckill\">\n        <router-link :to=\"{name:'GoodsDetail',params:{id:seckill.id}}\" class=\"inner-box\">\n          <div class=\"thumbnail\">\n            <img :src=\"'data:image/jpeg;base64,'+ seckill.pic\" alt=\"\">\n          </div>\n          <div class=\"goods-info\">\n            <div class=\"title\"><b>{{seckill.name}}</b></div>\n\n            <div class=\"price\">\n              <b>秒杀价：￥{{seckill.price}}</b> &nbsp;\n              <del>原价:￥{{seckill.p_price}}</del>\n            </div>\n\n            <div class=\"desc\">{{seckill.pdesc}}</div>\n          </div>\n        </router-link>\n      </li>\n\n    </ul>\n\n    <a @click=\"load_data\">\n      <div class=\"load_more\">\n        加载更多\n      </div>\n    </a>\n    \n        \n  </div>\n\n\n  \n</template>\n\n<script>\nexport default {\n  name: 'GoodsList',\n\n  data(){\n    return {\n      current_page:1,\n      page_size:8,\n      seckills:[],\n      total_page:undefined\n    }\n  },\n\n  mounted(){\n\n    this.getSeckillList(this.current_page,this.page_size)\n  },\n\n\n  methods:{\n    getSeckillList(current_page,page_size){\n      this.$axios.get(\"/seckill/front/get_seckill_list\",{\n        params:{\n          currentPage:current_page,\n          pageSize:page_size\n        }\n      }).then((rep)=> {\n\n        this.seckills = this.seckills.concat(rep.data.seckill_list) \n        this.current_page = rep.data.current\n        this.page_size = rep.data.page_size\n        this.total_page = rep.data.total_page\n\n\n      }).catch((rep) => {\n        console.log(rep);\n      })\n\n\n    },\n\n    load_data(){\n\n      if (this.total_page >= (this.current_page+1)){\n        this.getSeckillList(this.current_page+1,this.page_size)\n      }else{\n        alert(\"无更多数据\")\n\n      }\n      \n      \n\n    },\n\n    \n    Logout(){\n      this.$auth.delFrontAuth()\n      this.$router.push(\"/login\")\n    }\n  }\n}\n</script>\n\n\n<style scoped lang=\"scss\">\n\n.load_more {\n  text-align: center;\n  margin-top: 30px;\n  background-color:rgb(194, 212, 235);\n}\n\n.page-title {\n  margin-left: -100px;\n  margin-bottom: 50px;\n  .left {\n    font-size: 32px;;\n  }\n  .right {\n    float:right;\n    font-size: 18px;;\n  }\n}\n.goods-list{\n  display: flex;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  .goods-box{\n    width: 25%;\n    height: 357px;\n    padding: 4px;\n    cursor: pointer;\n    box-sizing: border-box;\n    border: 1px solid #fff;\n    &:hover{\n      background-color: #f4f0ea;\n      border: 1px solid #dcdcdc;\n    }\n    .inner-box{\n      .thumbnail{\n        img{\n          width: 100%;\n          height: 240px;\n        }\n      }\n      .goods-info{\n        padding: 10px;\n        .price{\n          color: brown;\n          padding: 10px 0;\n          text-align: center;\n          font-size: 16px;\n          del {\n            text-decoration: line-through;\n            font-size: 14px;\n          }\n        }\n        .desc{\n          color: #666;\n        }\n      }\n    }\n  }\n}\n</style>\n"],"sourceRoot":""}]}