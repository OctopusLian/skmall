{"remainingRequest":"/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/node_modules/babel-loader/lib/index.js!/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/node_modules/eslint-loader/index.js??ref--13-0!/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/src/auth/auth.js","dependencies":[{"path":"/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/src/auth/auth.js","mtime":1605172062000},{"path":"/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvaG9tZS9uZW8vQ29kZS9nby9zcmMvZ2l0aHViLmNvbS9PY3RvcHVzTGlhbi9za21hbGwvd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL2hvbWUvbmVvL0NvZGUvZ28vc3JjL2dpdGh1Yi5jb20vT2N0b3B1c0xpYW4vc2ttYWxsL3dlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwp2YXIgZnJvbnRfdG9rZW5fa2V5ID0gImZyb250X3Rva2VuIjsKdmFyIGZyb250X3VzZXJfbmFtZV9rZXkgPSAiZnJvbnRfdXNlcl9uYW1lIjsKdmFyIGFkbWluX3Rva2VuX2tleSA9ICJhZG1pbl90b2tlbiI7CnZhciBhZG1pbl91c2VyX25hbWVfa2V5ID0gImFkbWluX3VzZXJfbmFtZSI7Cgp2YXIgQXV0aCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQXV0aCgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdXRoKTsKCiAgICAvLyB0aGlzLmZyb250X3Rva2VuID0gbnVsbAogICAgLy8gdGhpcy5mcm9udF91c2VybmFtZSA9IG51bGwKICAgIHRoaXMuZnJvbnRfdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShmcm9udF90b2tlbl9rZXkpID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZnJvbnRfdG9rZW5fa2V5KSA6ICIiOwogICAgdGhpcy5mcm9udF91c2VybmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGZyb250X3VzZXJfbmFtZV9rZXkpID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZnJvbnRfdXNlcl9uYW1lX2tleSkgOiAiIjsKICAgIHRoaXMuYWRtaW5fdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShhZG1pbl90b2tlbl9rZXkpID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oYWRtaW5fdG9rZW5fa2V5KSA6ICIiOwogICAgdGhpcy5hZG1pbl91c2VyX25hbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShhZG1pbl91c2VyX25hbWVfa2V5KSA/IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGFkbWluX3VzZXJfbmFtZV9rZXkpIDogIiI7CiAgfSAvLyDnvJPlrZh0b2tlbuOAgeeUqOaIt+S/oeaBrwoKCiAgX2NyZWF0ZUNsYXNzKEF1dGgsIFt7CiAgICBrZXk6ICJzZXRGcm9udEF1dGgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEZyb250QXV0aCh0b2tlbiwgdXNlcm5hbWUpIHsKICAgICAgdGhpcy5mcm9udF90b2tlbiA9IHRva2VuOwogICAgICB0aGlzLmZyb250X3VzZXJuYW1lID0gdXNlcm5hbWU7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGZyb250X3Rva2VuX2tleSwgdG9rZW4pOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShmcm9udF91c2VyX25hbWVfa2V5LCB1c2VybmFtZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0QWRtaW5BdXRoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBZG1pbkF1dGgodG9rZW4sIHVzZXJuYW1lKSB7CiAgICAgIHRoaXMuYWRtaW5fdG9rZW4gPSB0b2tlbjsKICAgICAgdGhpcy5hZG1pbl91c2VyX25hbWUgPSB1c2VybmFtZTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYWRtaW5fdG9rZW5fa2V5LCB0b2tlbik7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGFkbWluX3VzZXJfbmFtZV9rZXksIHVzZXJuYW1lKTsKICAgIH0gLy8g5Yig6ZmkdG9rZW7jgIHnlKjmiLfkv6Hmga/vvIznlKjmnaXlgZrnlKjmiLfnmbvlh7oKCiAgfSwgewogICAga2V5OiAiZGVsRnJvbnRBdXRoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxGcm9udEF1dGgoKSB7CiAgICAgIHRoaXMuZnJvbnRfdG9rZW4gPSBudWxsOwogICAgICB0aGlzLmZyb250X3VzZXJuYW1lID0gbnVsbDsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZnJvbnRfdG9rZW5fa2V5KTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZnJvbnRfdXNlcl9uYW1lX2tleSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZGVsQWRtaW5BdXRoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxBZG1pbkF1dGgoKSB7CiAgICAgIHRoaXMuYWRtaW5fdG9rZW4gPSBudWxsOwogICAgICB0aGlzLmFkbWluX3VzZXJfbmFtZSA9IG51bGw7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGFkbWluX3Rva2VuX2tleSk7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGFkbWluX3VzZXJfbmFtZV9rZXkpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEF1dGg7Cn0oKTsgLy8g5Y2V5L6LCgoKdmFyIGF1dGggPSBuZXcgQXV0aCgpOwpleHBvcnQgZGVmYXVsdCBhdXRoOw=="},{"version":3,"sources":["/home/neo/Code/go/src/github.com/OctopusLian/skmall/web/src/auth/auth.js"],"names":["front_token_key","front_user_name_key","admin_token_key","admin_user_name_key","Auth","front_token","localStorage","getItem","front_username","admin_token","admin_user_name","token","username","setItem","removeItem","auth"],"mappings":";;AACA,IAAMA,eAAe,GAAG,aAAxB;AACA,IAAMC,mBAAmB,GAAG,iBAA5B;AAEA,IAAMC,eAAe,GAAG,aAAxB;AACA,IAAMC,mBAAmB,GAAG,iBAA5B;;IAGMC,I;AAEF,kBAAa;AAAA;;AACT;AACA;AACA,SAAKC,WAAL,GAAmBC,YAAY,CAACC,OAAb,CAAqBP,eAArB,IAAsCM,YAAY,CAACC,OAAb,CAAqBP,eAArB,CAAtC,GAA4E,EAA/F;AACA,SAAKQ,cAAL,GAAsBF,YAAY,CAACC,OAAb,CAAqBN,mBAArB,IAA0CK,YAAY,CAACC,OAAb,CAAqBN,mBAArB,CAA1C,GAAoF,EAA1G;AACA,SAAKQ,WAAL,GAAmBH,YAAY,CAACC,OAAb,CAAqBL,eAArB,IAAsCI,YAAY,CAACC,OAAb,CAAqBL,eAArB,CAAtC,GAA4E,EAA/F;AACA,SAAKQ,eAAL,GAAuBJ,YAAY,CAACC,OAAb,CAAqBJ,mBAArB,IAA0CG,YAAY,CAACC,OAAb,CAAqBJ,mBAArB,CAA1C,GAAoF,EAA3G;AACH,G,CAED;;;;;iCACaQ,K,EAAMC,Q,EAAS;AACxB,WAAKP,WAAL,GAAmBM,KAAnB;AACA,WAAKH,cAAL,GAAsBI,QAAtB;AACAN,MAAAA,YAAY,CAACO,OAAb,CAAqBb,eAArB,EAAqCW,KAArC;AACAL,MAAAA,YAAY,CAACO,OAAb,CAAqBZ,mBAArB,EAAyCW,QAAzC;AAEH;;;iCAEYD,K,EAAMC,Q,EAAS;AACxB,WAAKH,WAAL,GAAmBE,KAAnB;AACA,WAAKD,eAAL,GAAuBE,QAAvB;AACAN,MAAAA,YAAY,CAACO,OAAb,CAAqBX,eAArB,EAAqCS,KAArC;AACAL,MAAAA,YAAY,CAACO,OAAb,CAAqBV,mBAArB,EAAyCS,QAAzC;AAEH,K,CAED;;;;mCACc;AACV,WAAKP,WAAL,GAAmB,IAAnB;AACA,WAAKG,cAAL,GAAsB,IAAtB;AACAF,MAAAA,YAAY,CAACQ,UAAb,CAAwBd,eAAxB;AACAM,MAAAA,YAAY,CAACQ,UAAb,CAAwBb,mBAAxB;AAGH;;;mCAEa;AACV,WAAKQ,WAAL,GAAmB,IAAnB;AACA,WAAKC,eAAL,GAAuB,IAAvB;AACAJ,MAAAA,YAAY,CAACQ,UAAb,CAAwBZ,eAAxB;AACAI,MAAAA,YAAY,CAACQ,UAAb,CAAwBX,mBAAxB;AAEH;;;;KAKL;;;AACA,IAAMY,IAAI,GAAG,IAAIX,IAAJ,EAAb;AACA,eAAeW,IAAf","sourcesContent":["\r\nconst front_token_key = \"front_token\"\r\nconst front_user_name_key = \"front_user_name\"\r\n\r\nconst admin_token_key = \"admin_token\"\r\nconst admin_user_name_key = \"admin_user_name\"\r\n\r\n\r\nclass Auth {\r\n\r\n    constructor(){\r\n        // this.front_token = null\r\n        // this.front_username = null\r\n        this.front_token = localStorage.getItem(front_token_key)?localStorage.getItem(front_token_key):\"\"\r\n        this.front_username = localStorage.getItem(front_user_name_key)?localStorage.getItem(front_user_name_key):\"\"\r\n        this.admin_token = localStorage.getItem(admin_token_key)?localStorage.getItem(admin_token_key):\"\"\r\n        this.admin_user_name = localStorage.getItem(admin_user_name_key)?localStorage.getItem(admin_user_name_key):\"\"\r\n    }\r\n\r\n    // 缓存token、用户信息\r\n    setFrontAuth(token,username){\r\n        this.front_token = token\r\n        this.front_username = username\r\n        localStorage.setItem(front_token_key,token)\r\n        localStorage.setItem(front_user_name_key,username)\r\n\r\n    }\r\n\r\n    setAdminAuth(token,username){\r\n        this.admin_token = token\r\n        this.admin_user_name = username\r\n        localStorage.setItem(admin_token_key,token)\r\n        localStorage.setItem(admin_user_name_key,username)\r\n\r\n    }\r\n\r\n    // 删除token、用户信息，用来做用户登出\r\n    delFrontAuth(){\r\n        this.front_token = null\r\n        this.front_username = null\r\n        localStorage.removeItem(front_token_key)\r\n        localStorage.removeItem(front_user_name_key)\r\n\r\n\r\n    }\r\n\r\n    delAdminAuth(){\r\n        this.admin_token = null\r\n        this.admin_user_name = null\r\n        localStorage.removeItem(admin_token_key)\r\n        localStorage.removeItem(admin_user_name_key)\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n// 单例\r\nconst auth = new Auth()\r\nexport default auth"]}]}