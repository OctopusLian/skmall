{"remainingRequest":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\babel-loader\\lib\\index.js!D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\node\\workspace\\zhiliao_vue_gin\\src\\views\\cms\\product\\ProductList.vue?vue&type=template&id=430aab06&bindings={\"text\":\"props\",\"products\":\"data\",\"columns\":\"data\",\"user_pagenation\":\"data\",\"onEdit\":\"options\",\"ToAdd\":\"options\",\"pageChange\":\"options\",\"getProducts\":\"options\"}","dependencies":[{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\src\\views\\cms\\product\\ProductList.vue","mtime":1605590857772},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3REZXN0cnVjdHVyaW5nRW1wdHkgZnJvbSAiRDovbm9kZS93b3Jrc3BhY2UvemhpbGlhb192dWVfZ2luL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3REZXN0cnVjdHVyaW5nRW1wdHkiOwppbXBvcnQgeyBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jayB9IGZyb20gInZ1ZSI7Cgp2YXIgX2hvaXN0ZWRfMSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCLmt7vliqAiKTsKCnZhciBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiYSIsIG51bGwsICJEZWxldGUiLCAtMQovKiBIT0lTVEVEICovCik7CgpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X2FfYnV0dG9uID0gX3Jlc29sdmVDb21wb25lbnQoImEtYnV0dG9uIik7CgogIHZhciBfY29tcG9uZW50X2FfcG9wY29uZmlybSA9IF9yZXNvbHZlQ29tcG9uZW50KCJhLXBvcGNvbmZpcm0iKTsKCiAgdmFyIF9jb21wb25lbnRfYV90YWJsZSA9IF9yZXNvbHZlQ29tcG9uZW50KCJhLXRhYmxlIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgbnVsbCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2FfYnV0dG9uLCB7CiAgICBvbkNsaWNrOiAkb3B0aW9ucy5Ub0FkZAogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfaG9pc3RlZF8xXTsKICAgIH0pLAogICAgXzogMQogIH0sIDgKICAvKiBQUk9QUyAqLwogICwgWyJvbkNsaWNrIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX3RhYmxlLCB7CiAgICBjb2x1bW5zOiAkZGF0YS5jb2x1bW5zLAogICAgImRhdGEtc291cmNlIjogJGRhdGEucHJvZHVjdHMsCiAgICBzY3JvbGw6IHsKICAgICAgeDogMTMwMAogICAgfSwKICAgIHBhZ2luYXRpb246ICRkYXRhLnVzZXJfcGFnZW5hdGlvbiwKICAgIG9uQ2hhbmdlOiAkb3B0aW9ucy5wYWdlQ2hhbmdlLAogICAgYm9yZGVyZWQ6ICIiCiAgfSwgewogICAgYWN0aW9uOiBfd2l0aEN0eChmdW5jdGlvbiAoX3JlZikgewogICAgICBfb2JqZWN0RGVzdHJ1Y3R1cmluZ0VtcHR5KF9yZWYpOwoKICAgICAgcmV0dXJuIFtfY3R4LmRhdGFTb3VyY2UubGVuZ3RoID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfYV9wb3Bjb25maXJtLCB7CiAgICAgICAga2V5OiAwLAogICAgICAgIHRpdGxlOiAiU3VyZSB0byBkZWxldGU/IiwKICAgICAgICBvbkNvbmZpcm06IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgcmV0dXJuIF9jdHgub25EZWxldGUoX2N0eC5yZWNvcmQua2V5KTsKICAgICAgICB9KQogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfaG9pc3RlZF8yXTsKICAgICAgICB9KSwKICAgICAgICBfOiAxCiAgICAgIH0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV07CiAgICB9KSwKICAgIF86IDEKICB9LCA4CiAgLyogUFJPUFMgKi8KICAsIFsiY29sdW1ucyIsICJkYXRhLXNvdXJjZSIsICJwYWdpbmF0aW9uIiwgIm9uQ2hhbmdlIl0pXSk7Cn0="},{"version":3,"sources":["D:\\node\\workspace\\zhiliao_vue_gin\\src\\views\\cms\\product\\ProductList.vue"],"names":[],"mappings":";;;+CAE6B,I;;8BAarB,YAAA,CAAa,GAAb,EAAa,IAAb,EAAG,QAAH,EAAS,CAAA;AAAA;AAAT,C;;;;;;;;;uBAdN,YAAA,CAmBM,KAnBN,EAmBM,IAnBN,EAmBM,CAlBJ,YAAA,CAAsC,mBAAtC,EAAsC;AAA3B,IAAA,OAAK,EAAE,QAAA,CAAA;AAAoB,GAAtC,EAAuB;sBAAE;AAAA,aAAE,C,UAAA,CAAF;AAAA,K,CAAF;;AAAA,GAAvB,E;;AAAA,I,WAAA,CAkBI,EAjBJ,YAAA,CAgBU,kBAhBV,EAgBU;AAhBA,IAAA,OAAO,EAAE,KAAA,CAAA,OAgBT;AAhBmB,mBAAa,KAAA,CAAA,QAgBhC;AAhB2C,IAAA,MAAM,EAAE;AAAA,MAAA,CAAA,EAAA;AAAA,KAgBnD;AAhBiE,IAAA,UAAU,EAAE,KAAA,CAAA,eAgB7E;AAhB+F,IAAA,QAAM,EAAE,QAAA,CAAA,UAgBvG;AAhBmH,IAAA,QAAQ,EAAR;AAgBnH,GAhBV,E;AAMa,IAAA,MAAM,EAAA,QAAA,CAAE;AAAA;;AAAA,aAAE,CAEb,IAAA,CAAA,UAAA,CAAW,M,kBADnB,YAAA,CAMe,uBANf,EAMe;cAAA;AAJb,QAAA,KAAK,EAAC,iBAIO;AAHZ,QAAA,SAAO,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,iBAAE,IAAA,CAAA,QAAA,CAAS,IAAA,CAAA,MAAA,CAAO,GAAhB,CAAF;AAAA,SAAA;AAGK,OANf,E;0BAKE;AAAA,iBAAa,CAAb,UAAa,CAAb;AAAA,S;;OALF,C,qCADqB,CAAF;AAAA,KAAF,C;;GANnB,E;;AAAA,I,oDAAA,CAiBI,CAnBN,C","sourcesContent":["<template>\r\n  <div>\r\n    <a-button @click=\"ToAdd\">添加</a-button>\r\n    <a-table :columns=\"columns\" :data-source=\"products\" :scroll=\"{ x: 1300 }\" :pagination=\"user_pagenation\" @change=\"pageChange\" bordered>\r\n      <!-- <template #action=\"{}\" slot=\"action\" slot-scope=\"text,record\">\r\n        <a>启用</a>\r\n         <a slot=\"action\"  href=\"javascript:;\" @click=\"onEdit(record)\" >查看</a>\r\n      </template> -->\r\n\r\n      <template #action=\"{}\" #operation=\"{record }\">\r\n      <a-popconfirm\r\n        v-if=\"dataSource.length\"\r\n        title=\"Sure to delete?\"\r\n        @confirm=\"onDelete(record.key)\"\r\n      >\r\n        <a>Delete</a>\r\n      </a-popconfirm>\r\n    </template>\r\n\r\n    </a-table>\r\n  </div>\r\n</template>\r\n<script>\r\nconst columns = [\r\n  { title: '商品Id', width: 80, dataIndex: 'id', key: 'id', fixed: 'left' },\r\n  { title: '商品名称', width: 100, dataIndex: 'name', key: 'name', fixed: 'left' },\r\n  { title: '价格', width: 100, dataIndex: 'price', key: 'price', fixed: 'left' },\r\n  { title: '商品数量', dataIndex: 'num', key: '1' },\r\n  { title: '商品单位', dataIndex: 'unit', key: '2' },\r\n  { title: '商品图片', dataIndex: 'pic', key: '3' },\r\n  { title: '商品描述', dataIndex: 'desc', key: '4' },\r\n  { title: '创建时间', dataIndex: 'create_time', key: '5' },\r\n  {\r\n    title: '操作',\r\n    key: 'operation',\r\n    fixed: 'right',\r\n    width: 100,\r\n    slots: { customRender: 'action' },\r\n  },\r\n];\r\n\r\n\r\n\r\nexport default {\r\n  props: {\r\n    text: String,\r\n  },\r\n  data() {\r\n    return {\r\n      products:[],\r\n      columns,\r\n\r\n      user_pagenation:{\r\n        current:1,\r\n        pageSize:5,\r\n        pageSizeOptions:['5','10','20'],\r\n        showSizeChanger:true,\r\n        total:0\r\n\r\n      }\r\n      \r\n    };\r\n  },\r\n\r\n   mounted(){\r\n        this.getProducts(this.user_pagenation.current,this.user_pagenation.pageSize)\r\n    },\r\n\r\n    methods:{\r\n\r\n      onEdit(record){\r\n        alert(record)\r\n      },\r\n\r\n      ToAdd(){\r\n        this.$router.push(\"/main/product_add\")\r\n      },\r\n\r\n      pageChange(pagination){\r\n\r\n        this.user_pagenation.current = pagination.current\r\n        this.user_pagenation.pageSize = pagination.pageSize\r\n        this.getFrontUsers(pagination.current,pagination.pageSize)\r\n        \r\n\r\n      },\r\n        \r\n        getProducts(currentPage,pageSize){\r\n          \r\n            this.$axios.get(\"/product/get_product_list\",{\r\n              params:{\r\n                currentPage:currentPage,\r\n                pageSize:pageSize\r\n              },\r\n              headers:{\r\n                Authorization:\"Bearer \" + localStorage.getItem(\"admin_token\")\r\n              }\r\n            }).then((rep) => {\r\n\r\n                if (rep.data.code != 200){\r\n                  this.$router.push(\"/admin\")\r\n                }\r\n                this.products = rep.data.products\r\n                this.user_pagenation.current = rep.data.current_page\r\n                this.user_pagenation.pageSize = rep.data.page_size\r\n                this.user_pagenation.total = rep.data.total\r\n                console.log(rep);\r\n\r\n            }).catch((rep) => {\r\n                console.log(rep);\r\n\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n};\r\n</script>\r\n"],"sourceRoot":""}]}