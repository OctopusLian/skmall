{"remainingRequest":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\babel-loader\\lib\\index.js!D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\node\\workspace\\zhiliao_vue_gin\\src\\views\\cms\\product\\ProductList.vue?vue&type=template&id=430aab06&bindings={\"products\":\"data\",\"columns\":\"data\",\"user_pagenation\":\"data\",\"delProduct\":\"options\",\"ToAdd\":\"options\",\"pageChange\":\"options\",\"getProducts\":\"options\"}","dependencies":[{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\src\\views\\cms\\product\\ProductList.vue","mtime":1605763220638},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\node\\workspace\\zhiliao_vue_gin\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIHdpdGhDdHggYXMgX3dpdGhDdHgsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2sgfSBmcm9tICJ2dWUiOwoKdmFyIF9ob2lzdGVkXzEgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgi5re75YqgIik7Cgp2YXIgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCLliKDpmaQiKTsKCnZhciBfaG9pc3RlZF8zID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIue8lui+kSIpOwoKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9hX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJhLWJ1dHRvbiIpOwoKICB2YXIgX2NvbXBvbmVudF9hX3BvcGNvbmZpcm0gPSBfcmVzb2x2ZUNvbXBvbmVudCgiYS1wb3Bjb25maXJtIik7CgogIHZhciBfY29tcG9uZW50X3JvdXRlcl9saW5rID0gX3Jlc29sdmVDb21wb25lbnQoInJvdXRlci1saW5rIik7CgogIHZhciBfY29tcG9uZW50X2FfdGFibGUgPSBfcmVzb2x2ZUNvbXBvbmVudCgiYS10YWJsZSIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIG51bGwsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX2J1dHRvbiwgewogICAgb25DbGljazogJG9wdGlvbnMuVG9BZGQKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2hvaXN0ZWRfMV07CiAgICB9KSwKICAgIF86IDEKICB9LCA4CiAgLyogUFJPUFMgKi8KICAsIFsib25DbGljayJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfYV90YWJsZSwgewogICAgY29sdW1uczogJGRhdGEuY29sdW1ucywKICAgICJkYXRhLXNvdXJjZSI6ICRkYXRhLnByb2R1Y3RzLAogICAgc2Nyb2xsOiB7CiAgICAgIHg6IDEzMDAKICAgIH0sCiAgICBwYWdpbmF0aW9uOiAkZGF0YS51c2VyX3BhZ2VuYXRpb24sCiAgICBvbkNoYW5nZTogJG9wdGlvbnMucGFnZUNoYW5nZSwKICAgIGJvcmRlcmVkOiAiIgogIH0sIHsKICAgIGFjdGlvbjogX3dpdGhDdHgoZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgdmFyIHJlY29yZCA9IF9yZWYucmVjb3JkOwogICAgICByZXR1cm4gW19jcmVhdGVDb21tZW50Vk5vZGUoIiA8YSBAY2xpY2s9XCJkZWxQcm9kdWN0KHJlY29yZClcIj7liKDpmaQ8L2E+ICIpLCAkZGF0YS5wcm9kdWN0cy5sZW5ndGggPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9hX3BvcGNvbmZpcm0sIHsKICAgICAgICBrZXk6IDAsCiAgICAgICAgdGl0bGU6ICLnoa7orqTliKDpmaTlkJc/IiwKICAgICAgICBvbkNvbmZpcm06IGZ1bmN0aW9uIG9uQ29uZmlybSgkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiAkb3B0aW9ucy5kZWxQcm9kdWN0KHJlY29yZCk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX2J1dHRvbiwgbnVsbCwgewogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIFtfaG9pc3RlZF8yXTsKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIF86IDEKICAgICAgICAgIH0pXTsKICAgICAgICB9KSwKICAgICAgICBfOiAxCiAgICAgIH0sIDgKICAgICAgLyogUFJPUFMgKi8KICAgICAgLCBbIm9uQ29uZmlybSJdKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3JvdXRlcl9saW5rLCB7CiAgICAgICAgdG86IHsKICAgICAgICAgIG5hbWU6ICdQcm9kdWN0RWRpdCcsCiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgaWQ6IHJlY29yZC5pZAogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfYV9idXR0b24sIG51bGwsIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBbX2hvaXN0ZWRfM107CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBfOiAxCiAgICAgICAgICB9KV07CiAgICAgICAgfSksCiAgICAgICAgXzogMgogICAgICB9LCAxMDMyCiAgICAgIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovCiAgICAgICwgWyJ0byJdKV07CiAgICB9KSwKICAgIF86IDEKICB9LCA4CiAgLyogUFJPUFMgKi8KICAsIFsiY29sdW1ucyIsICJkYXRhLXNvdXJjZSIsICJwYWdpbmF0aW9uIiwgIm9uQ2hhbmdlIl0pXSk7Cn0="},{"version":3,"sources":["D:\\node\\workspace\\zhiliao_vue_gin\\src\\views\\cms\\product\\ProductList.vue"],"names":[],"mappings":";;+CAE6B,I;;+CAMT,I;;+CAG4D,I;;;;;;;;;;;uBAV9E,YAAA,CAcM,KAdN,EAcM,IAdN,EAcM,CAbJ,YAAA,CAAsC,mBAAtC,EAAsC;AAA3B,IAAA,OAAK,EAAE,QAAA,CAAA;AAAoB,GAAtC,EAAuB;sBAAE;AAAA,aAAE,C,UAAA,CAAF;AAAA,K,CAAF;;AAAA,GAAvB,E;;AAAA,I,WAAA,CAaI,EAZJ,YAAA,CAWU,kBAXV,EAWU;AAXA,IAAA,OAAO,EAAE,KAAA,CAAA,OAWT;AAXmB,mBAAa,KAAA,CAAA,QAWhC;AAX2C,IAAA,MAAM,EAAE;AAAA,MAAA,CAAA,EAAA;AAAA,KAWnD;AAXiE,IAAA,UAAU,EAAE,KAAA,CAAA,eAW7E;AAX+F,IAAA,QAAM,EAAE,QAAA,CAAA,UAWvG;AAXmH,IAAA,QAAQ,EAAR;AAWnH,GAXV,E;AACa,IAAA,MAAM,EAAA,QAAA,CACf;AAAA,UADkB,MAClB,QADkB,MAClB;AAAA,aADwB,CACxB,mBAAA,CAAA,2CAAA,CADwB,EAGJ,KAAA,CAAA,QAAA,CAAS,M,kBAA7B,YAAA,CAEe,uBAFf,EAEe;cAAA;AAFsB,QAAA,KAAK,EAAC,QAE5B;AAFsC,QAAA,SAAO,EAAA,mBAAA,MAAA;AAAA,iBAAE,QAAA,CAAA,UAAA,CAAW,MAAX,CAAF;AAAA;AAE7C,OAFf,E;0BACE;AAAA,iBAAuB,CAAvB,YAAA,CAAuB,mBAAvB,EAAuB,IAAvB,EAAuB;8BAAb;AAAA,qBAAE,C,UAAA,CAAF;AAAA,a,CAAa;;AAAA,WAAvB,CAAuB,CAAvB;AAAA,S;;OADF,E;;AAAA,Q,aAAA,C,qCAHwB,EAOxB,YAAA,CAAmG,sBAAnG,EAAmG;AAArF,QAAA,EAAE,EAAA;AAAA,UAAA,IAAA,EAAA,aAAA;AAAA,UAAA,MAAA,EAAA;AAAA,YAAA,EAAA,EAAiC,MAAM,CAAC;AAAxC;AAAA;AAAmF,OAAnG,E;0BAA8D;AAAA,iBAAuB,CAAvB,YAAA,CAAuB,mBAAvB,EAAuB,IAAvB,EAAuB;8BAAb;AAAA,qBAAE,C,UAAA,CAAF;AAAA,a,CAAa;;AAAA,WAAvB,CAAuB,CAAvB;AAAA,S;;OAA9D,E;;AAAA,Q,MAAA,CAPwB,CACxB;AAAA,KADe,C;;GADnB,E;;AAAA,I,oDAAA,CAYI,CAdN,C","sourcesContent":["<template>\r\n  <div>\r\n    <a-button @click=\"ToAdd\">添加</a-button>\r\n    <a-table :columns=\"columns\" :data-source=\"products\" :scroll=\"{ x: 1300 }\" :pagination=\"user_pagenation\" @change=\"pageChange\" bordered>\r\n      <template #action=\"{record}\">\r\n        <!-- <a @click=\"delProduct(record)\">删除</a> -->\r\n\r\n        <a-popconfirm v-if=\"products.length\" title=\"确认删除吗?\" @confirm=\"delProduct(record)\">\r\n          <a-button>删除</a-button>\r\n        </a-popconfirm>\r\n\r\n        <router-link :to=\"{name:'ProductEdit',params:{id:record.id}}\"><a-button>编辑</a-button></router-link>\r\n      </template>\r\n\r\n    </a-table>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\nimport qs from \"qs\"\r\nconst columns = [\r\n  { title: '商品Id', width: 80, dataIndex: 'id', key: 'id', fixed: 'left' },\r\n  { title: '商品名称', width: 100, dataIndex: 'name', key: 'name', fixed: 'left' },\r\n  { title: '价格', width: 100, dataIndex: 'price', key: 'price', fixed: 'left' },\r\n  { title: '商品数量', dataIndex: 'num', key: '1' },\r\n  { title: '商品单位', dataIndex: 'unit', key: '2' },\r\n  { title: '商品图片', dataIndex: 'pic', key: '3' },\r\n  { title: '商品描述', dataIndex: 'desc', key: '4' },\r\n  { title: '创建时间', dataIndex: 'create_time', key: '5' },\r\n  {\r\n    title: '操作',\r\n    key: 'operation',\r\n    fixed: 'right',\r\n    width: 100,\r\n    slots: { customRender: 'action' },\r\n  },\r\n];\r\n\r\n\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      products:[],\r\n      columns,\r\n\r\n      user_pagenation:{\r\n        current:1,\r\n        pageSize:5,\r\n        pageSizeOptions:['5','10','20'],\r\n        showSizeChanger:true,\r\n        total:0\r\n\r\n      }\r\n      \r\n    };\r\n  },\r\n\r\n   mounted(){\r\n        this.getProducts(this.user_pagenation.current,this.user_pagenation.pageSize)\r\n    },\r\n\r\n    methods:{\r\n\r\n  \r\n      delProduct(record){\r\n        console.log(record.id);\r\n        this.$axios.post(\"/product/product_del\",qs.stringify({\r\n          id:record.id,\r\n         \r\n        }),{\r\n           headers:{\r\n            Authorization:\"Bearer \" + localStorage.getItem(\"admin_token\")\r\n          }\r\n        }).then((rep) => {\r\n          console.log(rep);\r\n          if (rep.data.code == 200){\r\n            alert(rep.data.msg)\r\n            // this.$router.push(\"/main/product_list\")\r\n            window.location.reload()\r\n\r\n          }else {\r\n            alert(rep.data.msg)\r\n          }\r\n\r\n        }).catch((rep) => {\r\n          console.log(rep);\r\n          \r\n        })\r\n\r\n      },\r\n\r\n      ToAdd(){\r\n        this.$router.push(\"/main/product_add\")\r\n      },\r\n\r\n      pageChange(pagination){\r\n\r\n        this.user_pagenation.current = pagination.current\r\n        this.user_pagenation.pageSize = pagination.pageSize\r\n        this.getProducts(pagination.current,pagination.pageSize)\r\n        \r\n\r\n      },\r\n        \r\n        getProducts(currentPage,pageSize){\r\n          \r\n            this.$axios.get(\"/product/get_product_list\",{\r\n              params:{\r\n                currentPage:currentPage,\r\n                pageSize:pageSize\r\n              },\r\n              headers:{\r\n                Authorization:\"Bearer \" + localStorage.getItem(\"admin_token\")\r\n              }\r\n            }).then((rep) => {\r\n\r\n                if (rep.data.code != 200){\r\n                  this.$router.push(\"/admin\")\r\n                }\r\n                this.products = rep.data.products\r\n                this.user_pagenation.current = rep.data.current_page\r\n                this.user_pagenation.pageSize = rep.data.page_size\r\n                this.user_pagenation.total = rep.data.total\r\n                console.log(rep);\r\n\r\n            }).catch((rep) => {\r\n                console.log(rep);\r\n\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n};\r\n</script>\r\n"],"sourceRoot":""}]}